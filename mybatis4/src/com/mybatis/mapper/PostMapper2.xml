<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  
"http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.mybatis.mapper.PostMapper">
		<resultMap type="Post" id="postResult">
			<id property="id" column="p_id"/>
			<result property="name" column="p_name" javaType="string" jdbcType="VARCHAR"/>
			<result property="content" column="p_content" javaType="string" jdbcType="VARCHAR"/>
			<association property="author" column="p_author_id" resultMap="authorResult"/> <!-- 一对一级联 -->
		</resultMap>
		<resultMap type="Author" id="authorResult">
			<id property="id" column="a_id"/>
			<result property="name" column="a_name"/>
		</resultMap>
		
		<select id="findPostById" parameterType="int" resultMap="postResult">
			select 
				p.id as p_id, 
				p.name as p_name, 
				p.content as p_content,
				p.author_id as p_author_id,
				a.id as a_id,
				a.name as a_name 
			from t_post p, t_author a  
				where p.author_id = a.id and p.id=${postId}
		</select>
</mapper>